2021-12-03 15:33:15,022 - root - INFO - Flag Values:
{
    "L1_flag": false,
    "batch_size": 512,
    "ckpt_path": "log/",
    "clipping_max_value": 5.0,
    "data_path": "../../corpora/",
    "dataset": "drug_disease",
    "early_stopping_steps_to_wait": 70000,
    "embedding_size": 64,
    "eval_interval_steps": 14000,
    "eval_only_mode": false,
    "experiment_name": "drug_disease-jtransup-1638545595",
    "filter_wrong_corrupted": true,
    "has_visualization": false,
    "is_report": false,
    "joint_ratio": 0.5,
    "kg_lambda": 1.0,
    "kg_test_files": "valid.dat:test.dat",
    "l2_lambda": 1e-05,
    "learning_rate": 0.001,
    "learning_rate_decay_when_no_progress": 0.5,
    "load_ckpt_file": null,
    "load_experiment_name": null,
    "log_level": "debug",
    "log_path": "log/",
    "margin": 1.0,
    "max_queue": 10,
    "model_type": "jtransup",
    "momentum": 0.9,
    "negtive_samples": 1,
    "norm_lambda": 1.0,
    "num_preferences": 2,
    "num_processes": 4,
    "optimizer_type": "Adagrad",
    "rec_test_files": "valid.dat:test.dat",
    "seed": 0,
    "share_embeddings": false,
    "topn": 10,
    "training_steps": 1400000,
    "use_st_gumbel": false,
    "visualization_port": 8097
}
2021-12-03 15:33:15,028 - root - INFO - Totally 1284 train ratings, 143,651 eval ratings in files: ../../corpora/drug_disease/valid.dat;../../corpora/drug_disease/test.dat!
2021-12-03 15:33:15,030 - root - INFO - successfully load 654 users and 618 items!
2021-12-03 15:33:15,093 - root - INFO - Totally 9027 train triples, 1505,4513 eval triples in files: ../../corpora/drug_disease/kg/valid.dat;../../corpora/drug_disease/kg/test.dat!
2021-12-03 15:33:15,112 - root - INFO - successfully load 13355 entities and 1 relations!
2021-12-03 15:33:15,215 - root - INFO - Find 0 aligned items and entities!
2021-12-03 15:33:15,217 - root - INFO - Building model.
2021-12-03 15:33:18,169 - root - INFO - Architecture: jTransUPModel(
  (user_embeddings): Embedding(654, 64)
  (item_embeddings): Embedding(618, 64)
  (pref_embeddings): Embedding(1, 64)
  (pref_norm_embeddings): Embedding(1, 64)
  (ent_embeddings): Embedding(13356, 64, padding_idx=13355)
  (rel_embeddings): Embedding(1, 64)
  (norm_embeddings): Embedding(1, 64)
)
2021-12-03 15:33:18,169 - root - INFO - Total params: 936448.0
2021-12-03 15:33:18,170 - root - INFO - One epoch is 36 steps.
2021-12-03 15:33:18,170 - root - INFO - Training.
2021-12-03 15:33:18,171 - root - INFO - rec train loss:0.0000, kg train loss:0.0000!
2021-12-03 15:33:18,571 - root - INFO - f1:0.0035, p:0.0019, r:0.0192, hit:0.0192, ndcg:0.0121, topn:10.
2021-12-03 15:33:19,052 - root - INFO - f1:0.0067, p:0.0047, r:0.0208, hit:0.0433, ndcg:0.0199, topn:10.
2021-12-03 15:33:27,897 - root - INFO - head hit:0.0007, head mean rank:6904.0359, topn:10.
2021-12-03 15:33:27,897 - root - INFO - tail hit:0.0013, tail mean rank:6568.5694, topn:10.
2021-12-03 15:33:27,898 - root - INFO - avg hit:0.0010, avg mean rank:6736.3027, topn:10.
2021-12-03 15:33:49,573 - root - INFO - head hit:0.0009, head mean rank:6830.5721, topn:10.
2021-12-03 15:33:49,574 - root - INFO - tail hit:0.0004, tail mean rank:6523.2477, topn:10.
2021-12-03 15:33:49,574 - root - INFO - avg hit:0.0007, avg mean rank:6676.9099, topn:10.
